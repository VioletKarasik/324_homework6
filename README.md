# 324_homework6
# –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –Ω–∞ Python —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ü–∏—Ñ—Ä–æ–≤–æ–π –ø–æ–¥–ø–∏—Å–∏ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞—Å–∏–º–º–µ—Ç—Ä–∏—á–Ω–æ–≥–æ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è (ECDSA, SHA-256). –ü–æ–¥—Ö–æ–¥–∏—Ç –∫–∞–∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä –º–µ—Ö–∞–Ω–∏–∑–º–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≤ –±–ª–æ–∫—á–µ–π–Ω-–ø–æ–¥–æ–±–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö.

---

## üìö –û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

### üß± –ö–ª–∞—Å—Å—ã

- `TransactionInput` ‚Äî –≤—Ö–æ–¥ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ ID –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏ –∏–Ω–¥–µ–∫—Å –≤—ã—Ö–æ–¥–∞.
- `TransactionOutput` ‚Äî –≤—ã—Ö–æ–¥ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—É–º–º—É –∏ –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –ø–æ–ª—É—á–∞—Ç–µ–ª—è.
- `Transaction` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –æ–±—ä–µ–∫—Ç, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:
  - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤—Ö–æ–¥–æ–≤/–≤—ã—Ö–æ–¥–æ–≤,
  - –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Ü–∏—Ñ—Ä–æ–≤–æ–π –ø–æ–¥–ø–∏—Å–∏ (ECDSA),
  - –ø—Ä–æ–≤–µ—Ä–∫—É –ø–æ–¥–ø–∏—Å–∏,
  - —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (`transaction_id`).

---

## üîê –ü–æ–¥–ø–∏—Å—å –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞

1. **–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:** –í—Å–µ –≤—Ö–æ–¥—ã –∏ –≤—ã—Ö–æ–¥—ã —Å–µ—Ä–∏–∞–ª–∏–∑—É—é—Ç—Å—è –≤ —Å—Ç—Ä–æ–∫—É –∏ –∫–æ–¥–∏—Ä—É—é—Ç—Å—è –≤ –±–∞–π—Ç—ã.
2. **–ü–æ–¥–ø–∏—Å—å:** –° –ø–æ–º–æ—â—å—é –∑–∞–∫—Ä—ã—Ç–æ–≥–æ –∫–ª—é—á–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è –ø–æ–¥–ø–∏—Å—å –¥–∞–Ω–Ω—ã—Ö.
3. **–ü—Ä–æ–≤–µ—Ä–∫–∞:** –ü—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç–∏ –ø–æ–¥–ø–∏—Å–∏.
4. **ID —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏:** –•–µ—à –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–¥–ø–∏—Å–∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π `transaction_id`.

---

## üí° –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```python
from transaction import Transaction, TransactionInput, TransactionOutput
from cryptography.hazmat.primitives.asymmetric import ec
from cryptography.hazmat.primitives import serialization
```

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–∞—Ä—ã –∫–ª—é—á–µ–π
private_key = ec.generate_private_key(ec.SECP256R1())
public_key = private_key.public_key().public_bytes(
    encoding=serialization.Encoding.PEM,
    format=serialization.PublicFormat.SubjectPublicKeyInfo
)

# –°–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
tx = Transaction(public_key)
tx.add_input(TransactionInput("prev_tx_001", 0))
tx.add_output(TransactionOutput(public_key, 100.0))

# –ü–æ–¥–ø–∏—Å—å –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞
tx.generate_signature(private_key)
print("–ü–æ–¥–ø–∏—Å—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞:", tx.verify_signature())

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è ID
tx.generate_id()
print("Transaction ID:", tx.transaction_id)

# –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã
–í —Ñ–∞–π–ª–µ test_transaction.py —Ä–µ–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Ç–µ—Å—Ç—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º unittest. –ü—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è:
  - —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏;
  - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤—Ö–æ–¥–æ–≤/–≤—ã—Ö–æ–¥–æ–≤;
  - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –ø–æ–¥–ø–∏—Å–∏;
  - –∏–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å–ª–µ –ø–æ–¥–ø–∏—Å–∏;
  - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞.

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- –ù–µ —è–≤–ª—è–µ—Ç—Å—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π –±–ª–æ–∫—á–µ–π–Ω–∞.
- –ù–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ UTXO –∏–ª–∏ –±–∞–ª–∞–Ω—Å–∞.

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.x
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ cryptography (pip install cryptography)

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

–î–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–µ–∫—Ç–æ–º –ø—Ä–æ—Å—Ç–æ —Å–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª—ã.

### –ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞
–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã:
```bash
python -m unittest test_transaction.py
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
transaction.py           # –û—Å–Ω–æ–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
test_transaction.py      # –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã
README.md                # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è 